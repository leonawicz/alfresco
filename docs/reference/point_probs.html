<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fire probabilities for point locations — point_probs â€¢ alfresco</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46129458-3', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">alfresco</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/alfresco.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/fire_prob.html">Fire point probability</a>
    </li>
    <li>
      <a href="../articles/jfsp_extract.html">JFSP data extraction</a>
    </li>
    <li>
      <a href="../articles/jfsp_hist_fmo_tx.html">JFSP fire management treatments</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-globe fa-lg"></span>
     
    SNAPverse
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://leonawicz.github.io/sv.html">Home of the verse</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Sector packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapverse">snapverse</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snaplite">snaplite</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdata">snapdata</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapwebs">snapwebs</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Functions packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapfuns">snapfuns</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snaplocs">snaplocs</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapprep">snapprep</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/alfresco">alfresco</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Data packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapclim">snapclim</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapfire">snapfire</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snappoly">snappoly</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapgrid">snapmaps</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdist">snapdist</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Apps &amp; docs packages</li>
    <li>
      <a href="https://leonawicz.github.io/snapapps">snapapps</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdash">snapdash</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapflex">snapflex</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapdocs">snapdocs</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Satellite packages</li>
    <li>
      <a href="https://leonawicz.github.io/rvtable">rvtable</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/apputils">apputils</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/maputils">maputils</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snaputils">snaputils</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapmeta">snapmeta</a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/snapsite">snapsite</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/leonawicz/alfresco">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fire probabilities for point locations</h1>
    </div>

    
    <p>Estimate fire probability for mulitple point locations.</p>
    

    <pre class="usage"><span class='fu'>point_probs</span>(<span class='no'>r</span>, <span class='no'>xy</span>, <span class='no'>id</span>, <span class='kw'>buffer</span> <span class='kw'>=</span> <span class='fl'>20000</span>, <span class='kw'>weight</span> <span class='kw'>=</span> <span class='st'>"linear"</span>,
  <span class='kw'>lonlat_to_akalbers</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>veg_labels</span>, <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>veg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>age</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>max.cores</span> <span class='kw'>=</span> <span class='fl'>32</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>r</th>
      <td><p>raster layer or path to file, an ALFRESCO fire scar output geotiff.</p></td>
    </tr>
    <tr>
      <th>xy</th>
      <td><p>a 2-column data frame or matrix of longitude and latitude.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>a vector of IDs or names associated with the locations in the rows of <code>xy</code>.</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>radius of buffer around <code>xy</code>.</p></td>
    </tr>
    <tr>
      <th>weight</th>
      <td><p>inverse distance weighting, <code>"linear"</code> or <code>"quadratic"</code>.</p></td>
    </tr>
    <tr>
      <th>lonlat_to_akalbers</th>
      <td><p>if <code>xy</code> is unprojected (lon/lat), reproject to NAD83 Alaska Albers equal area conic projection.</p></td>
    </tr>
    <tr>
      <th>veg_labels</th>
      <td><p>character, vector of vegetation labels. If missing, they are assumed from <code><a href='get_veg_labels.html'>get_veg_labels("ak1km")</a></code>.</p></td>
    </tr>
    <tr>
      <th>covariates</th>
      <td><p>logical, if <code>TRUE</code> (default), then a wide data frame is returned that includes additional spatially aggregated covariates. See details.</p></td>
    </tr>
    <tr>
      <th>veg</th>
      <td><p>same as<code>r</code> but for accompanying vegetation class ALFRESCO output.</p></td>
    </tr>
    <tr>
      <th>age</th>
      <td><p>same as<code>r</code> but for accompanying vegetation age ALFRESCO output. See details.</p></td>
    </tr>
    <tr>
      <th>max.cores</th>
      <td><p>integer, maximum number of processors, defaults to 32 for Atlas compute node.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data frame containing a logical column indicating burn or no burn,
a column of distances from point location, and a column of weights.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is a wrapper around <a href='fire_weights.html'>fire_weights</a> and <a href='fire_probs.html'>fire_probs</a>.
It uses parallel processing via <code><a href='http://www.rdocumentation.org/packages/parallel/topics/mcdummies'>parallel::mclapply</a></code> to apply these functions to multiple point locations.
See these functions for further details.</p>
<p>It is recommended to not use <code>age</code> because ALFRESCO has a longstanding bug involving geogrpahic areas of uninitialized ages,
resulting in extreme negative age values that ruin analyses unless the user first implements their own fix to any age geotiffs before using them.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>scar</span> <span class='kw'>&lt;-</span> <span class='st'>"FireScar_0_2004.tif"</span>
<span class='no'>veg</span> <span class='kw'>&lt;-</span> <span class='st'>"Veg_0_2004.tif"</span>
<span class='no'>age</span> <span class='kw'>&lt;-</span> <span class='st'>"Age_0_2004.tif"</span>
<span class='no'>coords</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>lon</span> <span class='kw'>=</span> <span class='fu'>c</span>(-<span class='fl'>146</span>, -<span class='fl'>150</span>), <span class='kw'>lat</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>64</span>, <span class='fl'>67</span>))
<span class='fu'>point_probs</span>(<span class='kw'>r</span> <span class='kw'>=</span> <span class='no'>scar</span>, <span class='kw'>xy</span> <span class='kw'>=</span> <span class='no'>coords</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"point1"</span>, <span class='st'>"point2"</span>), <span class='kw'>veg</span> <span class='kw'>=</span> <span class='no'>veg</span>, <span class='kw'>age</span> <span class='kw'>=</span> <span class='no'>age</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://leonawicz.github.io/'>Matthew Leonawicz</a>, <a href='http://snap.uaf.edu/'><img src="https://raw.githubusercontent.com/leonawicz/leonawicz.github.io/master/assets/img/snap_symbol.svg?sanitize=true" height="24" />  Scenarios Network for Alaska and Arctic Planning</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
